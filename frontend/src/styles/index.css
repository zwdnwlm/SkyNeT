@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base CSS Variables ===== */
@layer base {
  :root {
    --radius: 0.75rem;
  }

  /* ===== Apple Glass Theme (浅色毛玻璃风格) ===== */
  .theme-apple-glass {
    /* 浅色主题 - 白色背景 */
    --foreground: 215 25% 27%; /* slate-800 */
    --muted-foreground: 215 16% 47%; /* slate-500 */
    --primary: 221 83% 53%; /* blue-500 */
    --primary-foreground: 0 0% 100%;
    --border: 0 0% 0% / 0.08;
  }

  /* ===== Apple Pro Dark Theme (专业纯黑) ===== */
  .theme-apple-pro-dark {
    /* 深色主题 - 纯黑背景 */
    --foreground: 0 0% 90%;
    --muted-foreground: 0 0% 45%;
    --primary: 190 95% 50%; /* cyan */
    --primary-foreground: 0 0% 100%;
    --border: 0 0% 100% / 0.08;
  }

  html {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
  }
}

/* ===== Theme-specific Component Styles ===== */
@layer components {

  /* ============================================
     APPLE GLASS THEME - 浅色毛玻璃风格
     ============================================ */
  
  /* 背景 - 彩色渐变图片 */
  .theme-apple-glass {
    background: url('https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop') no-repeat center center fixed;
    background-size: cover;
    color: #1e293b; /* slate-800 */
  }

  /* 主内容区 - 透明，让背景透出来 */
  .theme-apple-glass .main-content {
    background: transparent;
  }

  /* 侧边栏 - macOS 风格浅灰 */
  .theme-apple-glass .sidebar {
    background: rgba(245, 245, 247, 0.7);
    backdrop-filter: blur(30px) saturate(180%);
    -webkit-backdrop-filter: blur(30px) saturate(180%);
    border-right: 1px solid rgba(0, 0, 0, 0.08);
  }

  /* 卡片 - 透明毛玻璃效果 (匹配模板) */
  .theme-apple-glass .glass-card {
    background: rgba(255, 255, 255, 0.45);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
    border-radius: 1rem;
    transition: all 0.2s ease;
  }

  .theme-apple-glass .glass-card:hover {
    background: rgba(255, 255, 255, 0.55);
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.04);
  }

  /* 统计卡片 */
  .theme-apple-glass .stat-card {
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    border-radius: var(--radius);
  }

  /* 导航项 */
  .theme-apple-glass .nav-item {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 cursor-pointer;
    color: #475569; /* slate-600 */
  }

  .theme-apple-glass .nav-item:hover {
    background: rgba(0, 0, 0, 0.04);
    color: #1e293b;
  }

  .theme-apple-glass .nav-item.active {
    background: rgba(0, 0, 0, 0.06);
    color: #0f172a;
    font-weight: 500;
  }

  /* 头部 - 透明玻璃效果 */
  .theme-apple-glass header {
    background: transparent;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  }

  /* 表单输入 */
  .theme-apple-glass .form-input {
    @apply w-full px-3 py-2 rounded-lg text-sm;
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(0, 0, 0, 0.1);
    color: #1e293b;
  }

  .theme-apple-glass .form-input::placeholder {
    color: #94a3b8;
  }

  .theme-apple-glass .form-input:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    outline: none;
  }

  /* 按钮 */
  .theme-apple-glass .control-btn.primary {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
  }

  .theme-apple-glass .control-btn.danger {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
  }

  .theme-apple-glass .control-btn.secondary {
    background: rgba(0, 0, 0, 0.06);
    color: #475569;
  }

  .theme-apple-glass .control-btn.secondary:hover {
    background: rgba(0, 0, 0, 0.1);
    color: #1e293b;
  }

  /* 文字颜色 */
  .theme-apple-glass .text-foreground { color: #1e293b; }
  .theme-apple-glass .text-muted-foreground { color: #64748b; }


  /* ============================================
     APPLE PRO DARK THEME - 专业纯黑风格
     ============================================ */
  
  /* 背景 - 纯黑带网格 */
  .theme-apple-pro-dark {
    background-color: #050505;
    background-image: 
      linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    color: #e5e5e5;
  }

  /* 主内容区 */
  .theme-apple-pro-dark .main-content {
    background: transparent;
  }

  /* 侧边栏 - 纯黑 */
  .theme-apple-pro-dark .sidebar {
    background: #0a0a0a;
    border-right: 1px solid rgba(255, 255, 255, 0.08);
  }

  /* 卡片 - 深灰半透明 */
  .theme-apple-pro-dark .glass-card {
    background: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    border-radius: var(--radius);
  }

  .theme-apple-pro-dark .glass-card:hover {
    background: rgba(30, 30, 30, 0.7);
    border-color: rgba(255, 255, 255, 0.12);
  }

  /* 统计卡片 */
  .theme-apple-pro-dark .stat-card {
    background: rgba(20, 20, 20, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: var(--radius);
  }

  /* 导航项 */
  .theme-apple-pro-dark .nav-item {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 cursor-pointer;
    color: #737373; /* neutral-500 */
  }

  .theme-apple-pro-dark .nav-item:hover {
    background: rgba(255, 255, 255, 0.04);
    color: #ffffff;
  }

  .theme-apple-pro-dark .nav-item.active {
    background: rgba(255, 255, 255, 0.08);
    color: #ffffff;
  }

  /* 头部 */
  .theme-apple-pro-dark header {
    background: rgba(10, 10, 10, 0.8);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  /* 表单输入 */
  .theme-apple-pro-dark .form-input {
    @apply w-full px-3 py-2 rounded-lg text-sm;
    background: rgba(40, 40, 40, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: #ffffff;
  }

  .theme-apple-pro-dark .form-input::placeholder {
    color: #525252;
  }

  .theme-apple-pro-dark .form-input:focus {
    border-color: #0ea5e9;
    box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
    outline: none;
  }

  /* 按钮 */
  .theme-apple-pro-dark .control-btn.primary {
    background: linear-gradient(135deg, #0ea5e9, #0284c7);
    color: white;
    box-shadow: 0 0 15px rgba(14, 165, 233, 0.3);
  }

  .theme-apple-pro-dark .control-btn.danger {
    background: linear-gradient(135deg, #ef4444, #b91c1c);
    color: white;
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.2);
  }

  .theme-apple-pro-dark .control-btn.secondary {
    background: rgba(255, 255, 255, 0.08);
    color: #a3a3a3;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .theme-apple-pro-dark .control-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.12);
    color: #ffffff;
  }

  /* 文字颜色 */
  .theme-apple-pro-dark .text-foreground { color: #e5e5e5; }
  .theme-apple-pro-dark .text-muted-foreground { color: #737373; }


  /* ============================================
     共享组件样式
     ============================================ */

  /* Sidebar 基础 */
  .sidebar {
    @apply flex flex-col h-full;
  }

  /* App icon squircle */
  .app-icon {
    @apply w-7 h-7 rounded-lg flex items-center justify-center text-white;
    box-shadow: 0 1px 3px rgba(0,0,0,0.15);
  }

  /* Glass theme icons - subtle shadows */
  .theme-apple-glass .app-icon {
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }

  /* Pro dark theme icons - neon glow */
  .theme-apple-pro-dark .app-icon {
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }

  .app-icon.blue { background: linear-gradient(135deg, #3b82f6, #2563eb); }
  .app-icon.green { background: linear-gradient(135deg, #22c55e, #16a34a); }
  .app-icon.purple { background: linear-gradient(135deg, #a855f7, #9333ea); }
  .app-icon.orange { background: linear-gradient(135deg, #f97316, #ea580c); }
  .app-icon.red { background: linear-gradient(135deg, #ef4444, #dc2626); }
  .app-icon.cyan { background: linear-gradient(135deg, #06b6d4, #0891b2); }
  .app-icon.pink { background: linear-gradient(135deg, #ec4899, #db2777); }
  .app-icon.yellow { background: linear-gradient(135deg, #eab308, #ca8a04); }
  .app-icon.indigo { background: linear-gradient(135deg, #6366f1, #4f46e5); }
  .app-icon.teal { background: linear-gradient(135deg, #14b8a6, #0d9488); }
  .app-icon.rose { background: linear-gradient(135deg, #f43f5e, #e11d48); }

  /* Pro dark neon glow for icons */
  .theme-apple-pro-dark .app-icon.blue { box-shadow: 0 0 12px rgba(59, 130, 246, 0.3); }
  .theme-apple-pro-dark .app-icon.green { box-shadow: 0 0 12px rgba(34, 197, 94, 0.3); }
  .theme-apple-pro-dark .app-icon.purple { box-shadow: 0 0 12px rgba(168, 85, 247, 0.3); }
  .theme-apple-pro-dark .app-icon.orange { box-shadow: 0 0 12px rgba(249, 115, 22, 0.3); }
  .theme-apple-pro-dark .app-icon.red { box-shadow: 0 0 12px rgba(239, 68, 68, 0.3); }
  .theme-apple-pro-dark .app-icon.cyan { box-shadow: 0 0 12px rgba(6, 182, 212, 0.3); }
  .theme-apple-pro-dark .app-icon.pink { box-shadow: 0 0 12px rgba(236, 72, 153, 0.3); }
  .theme-apple-pro-dark .app-icon.indigo { box-shadow: 0 0 12px rgba(99, 102, 241, 0.3); }

  /* Status indicator */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  .status-dot.running {
    @apply bg-green-500 animate-pulse;
  }

  .status-dot.stopped {
    @apply bg-red-500;
  }

  /* Control buttons */
  .control-btn {
    @apply flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200;
  }

  /* Table styles */
  .data-table {
    @apply w-full text-sm;
  }

  .theme-apple-glass .data-table th {
    @apply text-left font-medium px-4 py-3;
    color: #64748b;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  }

  .theme-apple-glass .data-table td {
    @apply px-4 py-3;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  }

  .theme-apple-glass .data-table tr:hover {
    background: rgba(0, 0, 0, 0.02);
  }

  .theme-apple-pro-dark .data-table th {
    @apply text-left font-medium px-4 py-3;
    color: #737373;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  .theme-apple-pro-dark .data-table td {
    @apply px-4 py-3;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .theme-apple-pro-dark .data-table tr:hover {
    background: rgba(255, 255, 255, 0.03);
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded text-xs font-medium;
  }

  .badge.success { @apply bg-green-500/20 text-green-600; }
  .badge.warning { @apply bg-yellow-500/20 text-yellow-600; }
  .badge.error { @apply bg-red-500/20 text-red-600; }
  .badge.info { @apply bg-blue-500/20 text-blue-600; }

  .theme-apple-pro-dark .badge.success { @apply text-green-400; }
  .theme-apple-pro-dark .badge.warning { @apply text-yellow-400; }
  .theme-apple-pro-dark .badge.error { @apply text-red-400; }
  .theme-apple-pro-dark .badge.info { @apply text-blue-400; }

  /* Scrollbar styles */
  .theme-apple-glass ::-webkit-scrollbar {
    width: 0px;
    background: transparent;
  }

  .theme-apple-glass *:hover::-webkit-scrollbar {
    width: 6px;
  }

  .theme-apple-glass ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
    border-radius: 10px;
  }

  .theme-apple-pro-dark ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .theme-apple-pro-dark ::-webkit-scrollbar-track {
    background: #0f0f0f;
  }

  .theme-apple-pro-dark ::-webkit-scrollbar-thumb {
    background: #333;
    border-radius: 4px;
    border: 2px solid #0f0f0f;
  }

  .theme-apple-pro-dark ::-webkit-scrollbar-thumb:hover {
    background: #444;
  }
}

/* ===== Utility Classes ===== */
@layer utilities {
  .animate-fadeIn {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideIn {
    from { transform: translateY(-10px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  @keyframes barHeight {
    from { height: 0%; }
  }

  .animate-bar {
    animation: barHeight 1s ease-out backwards;
  }

  /* Latency colors */
  .latency-good { @apply text-green-400; }
  .latency-medium { @apply text-yellow-400; }
  .latency-bad { @apply text-red-400; }
  .latency-timeout { @apply text-slate-500; }
}
